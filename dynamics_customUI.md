# üìò –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ UI –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ Dynamics 365

## üß≠ –¶–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–∞

–ü–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Å–ø–æ—Å–æ–±—ã –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (UI) –≤ Dynamics 365, –∞ —Ç–∞–∫–∂–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç–∞–∫–∏—Ö UI.

---

## üî∑ 1. –í–∞—Ä–∏–∞–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ UI –≤ Dynamics 365

### ‚úÖ 1.1. Web Resource (HTML/JS/React)

**–û–ø–∏—Å–∞–Ω–∏–µ:**

* –≠—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä—è–º–æ–π —Å–ø–æ—Å–æ–± –≤—Å—Ç–∞–≤–∫–∏ UI. Web Resource ‚Äî —ç—Ç–æ HTML –∏–ª–∏ JS-—Ñ–∞–π–ª, –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–π –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ —Ä–µ—Å—É—Ä—Å.
* –ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫ —Ñ–æ—Ä–º–∞–º, –ø–∞–Ω–µ–ª—è–º, –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤ iframe.

**–í–∞—Ä–∏–∞–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

* React/Vue –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
* –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ì–¥–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è iframe Web Resource:**

* –û—Ç–∫—Ä–æ–π —Ñ–æ—Ä–º—É –Ω—É–∂–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –≤ **Form Designer**
* –ù–∞–∂–º–∏ **Insert ‚Üí Web Resource**
* –í—ã–±–µ—Ä–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π HTML-—Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä `settings.html`)
* –£—Å—Ç–∞–Ω–æ–≤–∏ —Ñ–ª–∞–≥ "Display as iframe" –∏ –∑–∞–¥–∞–π —Ä–∞–∑–º–µ—Ä—ã (width/height)
* –£–∫–∞–∂–∏ –∏–º—è –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ñ–æ—Ä–º—É:**

1. –°–æ–∑–¥–∞–π—Ç–µ Web Resource (`settings.html`, `settings.js`, `bundle.js`)
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞ —Ñ–æ—Ä–º—É –∫–∞–∫ `iframe` –∏–ª–∏ `web resource control`

**–ü—Ä–∏–º–µ—Ä iframe:**

```html
<iframe src="/WebResources/your_custom_ui.html" width="100%" height="400px" frameborder="0"></iframe>
```

**üß± –ö–∞–∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–æ–π:**

```ts
Microsoft.CIFramework.getEnvironment().then((env) => {
  console.log("Region:", env["region"]);
});

Microsoft.CIFramework.setSession("genesys_config", JSON.stringify({
  region: "prod", clientId: "abc"
}));
```

**–ü—Ä–∏–º–µ—Ä HTML-—Ñ–∞–π–ª–∞:**

```html
<html>
  <body>
    <h2>Genesys Settings</h2>
    <label>Region: <input id="region" /></label><br />
    <label>Client ID: <input id="clientId" /></label><br />
    <button onclick="save()">Save</button>
  </body>
  <script>
    function save() {
      const config = {
        region: document.getElementById('region').value,
        clientId: document.getElementById('clientId').value
      };
      localStorage.setItem("genesys_settings", JSON.stringify(config));
    }
  </script>
</html>
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

* –ù—É–∂–µ–Ω React –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π HTML-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
* –ù—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API
* –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Power FX

---

![image](https://github.com/user-attachments/assets/3ae9ee59-b1fa-4509-a2e8-9046ec955e1e)

---

### ‚úÖ 1.2. Power Apps Custom Page

**–û–ø–∏—Å–∞–Ω–∏–µ:**

* Low-code/no-code UI, —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä—è–º–æ –≤ Power Platform.
* –ú–æ–∂–Ω–æ –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏—é, —Ñ–æ—Ä–º—ã –∏–ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç PowerFX, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Dataverse, responsive-–¥–∏–∑–∞–π–Ω.
* –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤—ã–∑—ã–≤–∞—Ç—å Flows.

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

* –î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
* –¢–∞–±–ª–∏—Ü—ã, —Ñ–æ—Ä–º—ã, –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã

![image](https://github.com/user-attachments/assets/c0787776-fd8a-495c-986b-b0737642109f)

---

![image](https://github.com/user-attachments/assets/a9ad7a30-067c-4780-a630-c9944ca31fe4)

---

### ‚úÖ 1.3. PCF (PowerApps Component Framework)

**–û–ø–∏—Å–∞–Ω–∏–µ:**

* –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ TypeScript + React, –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –∫–∞–∫ –∫–æ–Ω—Ç—Ä–æ–ª—ã –≤ —Ñ–æ—Ä–º—ã –∏–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.
* –ò–¥–µ–∞–ª—å–Ω—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏, —Ç–∞–±–ª–∏—Ü, –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤, –∫–Ω–æ–ø–æ–∫ –∏ –¥—Ä.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

* –†–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ "—Ä–æ–¥–Ω—ã–µ" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
* –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º—É

**–ú–∏–Ω—É—Å—ã:**

* –¢—Ä–µ–±—É–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —É–ø–∞–∫–æ–≤–∫–∏ —á–µ—Ä–µ–∑ CLI
* –¢—Ä–µ–±—É–µ—Ç knowledge –≤ Webpack, CDS SDK

---

![image](https://github.com/user-attachments/assets/3383127a-9561-4709-b9bd-4cdc7be17310)

---

![image](https://github.com/user-attachments/assets/96799da3-2de4-45b1-91da-c6589a3a1b10)


---

## üî∑ 2. –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ UI –≤ Dynamics 365

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: Custom Entity

–°–æ–∑–¥–∞–π —Å—É—â–Ω–æ—Å—Ç—å `GenesysSettings` –∏–ª–∏ `CustomIntegrationConfig`.

**–ü–æ–ª—è:**

* `Name` (—Å—Ç—Ä–æ–∫–∞)
* `Region` (–æ–ø—Ü–∏—è –∏–ª–∏ —Å—Ç—Ä–æ–∫–∞)
* `ClientId` (—Å—Ç—Ä–æ–∫–∞)
* `StatusMapping` (–º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç, JSON)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

* –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å security roles
* –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ UI –∏ —á–µ—Ä–µ–∑ API

**–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**

```ts
Microsoft.CIFramework.invokeProcess("RetrieveRecord", {
  entityLogicalName: "your_custom_entity",
  id: "<record-guid>"
}).then(response => {
  const config = JSON.parse(response.StatusMapping);
});
```

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 2: Environment Variables

* –°–æ–∑–¥–∞—é—Ç—Å—è –≤ Power Platform Admin Center
* –ú–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å —á–µ—Ä–µ–∑ `CIFramework` + `WebAPI`
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ environments (dev/test/prod)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```http
GET /api/data/v9.0/environmentvariabledefinitions
```

### ‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä—è–º–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–µ—Å–ª–∏ UI –≤–Ω–µ—à–Ω–∏–π)

```ts
localStorage.setItem("genesys_settings", JSON.stringify({ region: "prod-euw1", clientId: "abc123" }));
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–æ–∑–º–æ–∂–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (JSON)

```json
{
  "region": "prod-euw1",
  "clientId": "xyz-123",
  "statusMapping": {
    "Available": "Ready",
    "Away": "Break",
    "Busy": "Not Ready"
  },
  "features": {
    "logging": true,
    "debug": false
  }
}
```

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–æ–∑–º–æ–∂–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (JSON)

```json
{
  "region": "prod-euw1",
  "clientId": "xyz-123",
  "statusMapping": {
    "Available": "Ready",
    "Away": "Break",
    "Busy": "Not Ready"
  },
  "features": {
    "logging": true,
    "debug": false
  }
}
```

---

## ‚úÖ –†–µ–∑—é–º–µ

| –°–ø–æ—Å–æ–±               | –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è                                | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                |
| -------------------- | ------------------------------------------- | ------------------------------------------ |
| Web Resource         | React-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å                             | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–≤–æ–±–æ–¥–∞, –ø—Ä–æ—Å—Ç–æ—Ç–∞ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è |
| Custom Page          | –ü—Ä–æ—Å—Ç—ã–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã                | –ë—ã—Å—Ç—Ä–æ –∏ –Ω–∞—Ç–∏–≤–Ω–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤               |
| PCF                  | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤–Ω—É—Ç—Ä–∏ —Ñ–æ—Ä–º—ã  | –ì–ª—É–±–æ–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ D365                 |
| Custom Entity        | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, —É–ø—Ä–∞–≤–ª—è–µ–º–∞—è –∏–∑ UI             | –ú–æ–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å —Å —Ä–æ–ª—å—é, API, UI             |
| Environment Variable | –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—ã–µ –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—é | –•–æ—Ä–æ—à–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞                      |
| localStorage         | –ë—ã—Å—Ç—Ä–æ –∏ –ª–æ–∫–∞–ª—å–Ω–æ                           | –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ iframe –≤–Ω–µ—à–Ω–∏–π                 |

---
